# Java-CLI-Chatroom
一个使用Java语言编写的CLI聊天室，主要用到了Socket、IO、线程池、线程

1.可以进入聊天室，根据系统提示输入用户名。系统会检查用户名是否重复，是否包含关键词，如包含则需要重新输入  
2.服务器端可以进行消息转发，输入的消息仅限文本。服务端会进行心跳检测，会断开长时间未使用的客户端连接  
3.可以查看在线用户列表:@admin list  
4.可以和在线用户私聊：@用户名跟某个用户聊天，如果和同一个用户聊天，后续的消息则无需再次输入@  
5.可以进行群发消息（消息内容仅限文本）：@all 消息  
6.可以发送文件：@file 目标用户 文件全路径（如C:\Users\xxx\Desktop\xxx.txt）,接收的文件默认保存在项目的userFile路径下。服务端也会保存一份到userFile\server路径  
PS：客户端为单线程，所以在文件传输未结束时不可以发送其他命令。但是可以接收其他用户的消息。  
7.可以修改昵称：@setName 名称  
8.可以退出聊天室：@admin logoff

2023.9.3更新  
1.修改从服务端传输到客户端的缓存大小，防止因待传输的文件过大导致服务端内存溢出  
2.一个客户端支持同时接收多个其他客户端发送的文件  
3.优化传输文件代码：将try-catch-finally改为try-with-resource  
（同时开两个dos当作客户端时，他们会指向相同的IO对象（User类里面的init()））